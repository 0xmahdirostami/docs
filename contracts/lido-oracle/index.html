<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.73">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Lido Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Lido Docs Blog Atom Feed"><title data-react-helmet="true">LidoOracle | Lido Docs</title><meta data-react-helmet="true" property="og:url" content="https://lidofinance.github.io/contracts/lido-oracle"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="LidoOracle | Lido Docs"><meta data-react-helmet="true" name="description" content="- Source code"><meta data-react-helmet="true" property="og:description" content="- Source code"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon-32x32.png"><link data-react-helmet="true" rel="canonical" href="https://lidofinance.github.io/contracts/lido-oracle"><link data-react-helmet="true" rel="alternate" href="https://lidofinance.github.io/contracts/lido-oracle" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://lidofinance.github.io/contracts/lido-oracle" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.964611c4.css">
<link rel="preload" href="/assets/js/styles.60d6036a.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.84ce43f3.js" as="script">
<link rel="preload" href="/assets/js/main.ce772e0e.js" as="script">
<link rel="preload" href="/assets/js/1.d79354af.js" as="script">
<link rel="preload" href="/assets/js/2.838c5d4f.js" as="script">
<link rel="preload" href="/assets/js/1a4e3797.af72474a.js" as="script">
<link rel="preload" href="/assets/js/1be78505.8f57c878.js" as="script">
<link rel="preload" href="/assets/js/30.f3838937.js" as="script">
<link rel="preload" href="/assets/js/29.5d6db8c9.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.fa73b8d4.js" as="script">
<link rel="preload" href="/assets/js/17896441.2c279ba3.js" as="script">
<link rel="preload" href="/assets/js/aa274e96.9ab7f33b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Lido Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Lido Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Lido Docs</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lidofinance" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_MM2z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_s5VG searchBarLoadingRing_2jQk"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Lido Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Lido Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Lido Docs</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/lidofinance" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/lido-dao">Lido DAO</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/node-operator-manual">Node Operator Manual</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/oracle-operator-manual">Oracle Operator Manual</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/multisig-deployment">Multisig deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/protocol-levers">Protocol levers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/etherscan-voting">DAO voting with Etherscan</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Integrations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/integrations/sdk">SDKs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/integrations/subgraph">Subgraph</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Token guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/token-guides/steth-superuser-functions">StETH superuser functions</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Contracts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/lido">Lido</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/contracts/lido-oracle">LidoOracle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/stable-swap-state-oracle">StableSwapStateOracle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/steth-price-feed">StEthPriceFeed</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/node-operators-registry">NodeOperatorsRegistry</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/withdrawals-manager-stub">WithdrawalsManagerStub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/wsteth">wstETH</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Security</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/security/bugbounty">Bug Bounties with Immunefi</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/deployed-contracts">Deployed Contracts</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">LidoOracle</h1></header><div class="markdown"><ul><li><a href="https://github.com/lidofinance/lido-dao/blob/master/contracts/0.4.24/oracle/LidoOracle.sol" target="_blank" rel="noopener noreferrer">Source code</a></li><li><a href="https://etherscan.io/address/0x442af784A788A5bd6F42A01Ebe9F287a871243fb" target="_blank" rel="noopener noreferrer">Deployed contract</a></li></ul><p>LidoOracle is a contract where oracles send addresses&#x27; balances controlled by the DAO on the ETH
2.0 side. The balances can go up because of reward accumulation and can go down due to slashing and
staking penalties. Oracles are assigned by the DAO.</p><p>Oracle daemons push their reports every frame (225 epochs currently, equal to one day) and when the
number of the same reports reaches the <a href="#getquorum">&#x27;quorum&#x27;</a> value, the report is pushed to the
<a href="/contracts/lido">Lido contract</a>.</p><p>The following mechanisms are also worth mentioning.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="store-the-collected-reports-as-an-array"></a>Store the collected reports as an array<a class="hash-link" href="#store-the-collected-reports-as-an-array" title="Direct link to heading">#</a></h2><p>The report variant is a report with a counter - how many times this report was pushed by
oracles. This strongly simplified logic of <code>_getQuorumReport</code>, because in the majority of cases, we
only have 1 variant of the report so we just make sure that its counter exceeded the quorum value.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The important note here is that when we remove an oracle (with <code>removeOracleMember</code>), we
also need to remove her report from the currently accepted reports. As of now, we do not keep a
mapping between members and their reports, we just clean all existing reports and wait for the
remaining oracles to push the same epoch again.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="add-calculation-of-staker-rewards-apr"></a>Add calculation of staker rewards <a href="https://en.wikipedia.org/wiki/Annual_percentage_rate" target="_blank" rel="noopener noreferrer">APR</a><a class="hash-link" href="#add-calculation-of-staker-rewards-apr" title="Direct link to heading">#</a></h2><p>To calculate the percentage of rewards for stakers, we store and provide the following data:</p><ul><li><code>preTotalPooledEther</code> - total pooled ether mount, queried right before every report push to the
<a href="/contracts/lido">Lido contract</a>,</li><li><code>postTotalPooledEther</code> - the same, but queried right after the push,</li><li><code>lastCompletedEpochId</code> - the last epoch that we pushed the report to the Lido,</li><li><code>timeElapsed</code> - the time in seconds between the current epoch of push and the
<code>lastCompletedEpochId</code>. Usually, it should be a frame long: 32 <em> 12 </em> 225 = 86400, but maybe
multiples more in case that the previous frame didn&#x27;t reach the quorum.</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>It is important to note here, that we collect post/pre pair (not current/last), to avoid
the influence of new staking during the epoch.</p></div></div><p>To calculate the APR, use the following formula:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">APR = (postTotalPooledEther - preTotalPooledEther) * secondsInYear / (preTotalPooledEther * timeElapsed)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sanity-checks-the-oracles-reports-by-configurable-values"></a>Sanity checks the oracles reports by configurable values<a class="hash-link" href="#sanity-checks-the-oracles-reports-by-configurable-values" title="Direct link to heading">#</a></h2><p>In order to limit the misbehaving oracles impact, we want to limit oracles report change by 10% APR
increase in stake and 5% decrease in stake. Both values are configurable by the governance in case
of extremely unusual circumstances.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Note that the change is evaluated after the quorum of oracles reports is reached, and not
on the individual report.</p></div></div><p>And the logic of reporting to the <a href="/contracts/lido">Lido contract</a> got a call to <code>_reportSanityChecks</code> that does
the following. It compares the <code>preTotalPooledEther</code> and <code>postTotalPooledEther</code> (see above) and</p><ul><li>if there is a profit or same, calculates the <a href="https://en.wikipedia.org/wiki/Annual_percentage_rate" target="_blank" rel="noopener noreferrer">APR</a>, compares it with the upper bound. If was
above, reverts the transaction with <code>ALLOWED_BEACON_BALANCE_INCREASE</code> code.</li><li>if there is a loss, calculates relative decrease and compares it with the lower bound. If was
below, reverts the transaction with <code>ALLOWED_BEACON_BALANCE_DECREASE</code> code.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="receiver-function-to-be-invoked-on-report-pushes"></a>Receiver function to be invoked on report pushes<a class="hash-link" href="#receiver-function-to-be-invoked-on-report-pushes" title="Direct link to heading">#</a></h2><p>To provide the external contract with updates on report pushes (every time the quorum is reached
among oracle daemons data), we provide the following setter and getter functions. It might be
needed to implement some updates to the external contracts that should happen at the same tx the
<a href="/contracts/lido#rebasing">rebase</a> happens (e.g. adjusting uniswap v2 pools to reflect the
rebase).</p><p>And when the callback is set, the following function will be invoked on every report push.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">interface IBeaconReportReceiver {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    function processLidoOracleReport(uint256 _postTotalPooledEther,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                     uint256 _preTotalPooledEther,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                     uint256 _timeElapsed) external;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The arguments provided are the same as described in section <a href="#add-calculation-of-staker-rewards-apr">above</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="view-methods"></a>View Methods<a class="hash-link" href="#view-methods" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getlido"></a>getLido()<a class="hash-link" href="#getlido" title="Direct link to heading">#</a></h3><p>Return the <a href="/contracts/lido">Lido contract</a> address.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getLido() returns (ILido)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getquorum"></a>getQuorum()<a class="hash-link" href="#getquorum" title="Direct link to heading">#</a></h3><p>Return the number of exactly the same reports needed to finalize the epoch.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getQuorum() returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getallowedbeaconbalanceannualrelativeincrease"></a>getAllowedBeaconBalanceAnnualRelativeIncrease()<a class="hash-link" href="#getallowedbeaconbalanceannualrelativeincrease" title="Direct link to heading">#</a></h3><p>Return the upper bound of the reported balance possible increase in <a href="https://en.wikipedia.org/wiki/Annual_percentage_rate" target="_blank" rel="noopener noreferrer">APR</a>. See above about
<a href="#sanity-checks-the-oracles-reports-by-configurable-values">sanity checks</a>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getAllowedBeaconBalanceAnnualRelativeIncrease() returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getallowedbeaconbalancerelativedecrease"></a>getAllowedBeaconBalanceRelativeDecrease()<a class="hash-link" href="#getallowedbeaconbalancerelativedecrease" title="Direct link to heading">#</a></h3><p>Return the lower bound of the reported balance possible decrease. See above about <a href="#sanity-checks-the-oracles-reports-by-configurable-values">sanity
checks</a>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getAllowedBeaconBalanceRelativeDecrease() returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getbeaconreportreceiver"></a>getBeaconReportReceiver()<a class="hash-link" href="#getbeaconreportreceiver" title="Direct link to heading">#</a></h3><p>Return the receiver contract address to be called when the report is pushed to <a href="/contracts/lido">Lido</a>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getBeaconReportReceiver() returns (address)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getcurrentoraclesreportstatus"></a>getCurrentOraclesReportStatus()<a class="hash-link" href="#getcurrentoraclesreportstatus" title="Direct link to heading">#</a></h3><p>Return the current reporting bitmap, representing oracles who have already pushed their version of
report during the expected epoch.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Every oracle bit corresponds to the index of the oracle in the current members list</p></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getCurrentOraclesReportStatus() returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getcurrentreportvariantssize"></a>getCurrentReportVariantsSize()<a class="hash-link" href="#getcurrentreportvariantssize" title="Direct link to heading">#</a></h3><p>Return the current reporting variants array size.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getCurrentReportVariantsSize() returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getcurrentreportvariant"></a>getCurrentReportVariant()<a class="hash-link" href="#getcurrentreportvariant" title="Direct link to heading">#</a></h3><p>Return the current reporting array element with index <code>_index</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getCurrentReportVariant(uint256 _index)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getexpectedepochid"></a>getExpectedEpochId()<a class="hash-link" href="#getexpectedepochid" title="Direct link to heading">#</a></h3><p>Return epoch that can be reported by oracles.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getExpectedEpochId() returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getoraclemembers"></a>getOracleMembers()<a class="hash-link" href="#getoraclemembers" title="Direct link to heading">#</a></h3><p>Return the current oracle member committee list.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getOracleMembers() returns (address[])</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getversion"></a>getVersion()<a class="hash-link" href="#getversion" title="Direct link to heading">#</a></h3><p>Return the initialized version of this contract starting from 0.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getVersion() returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getbeaconspec"></a>getBeaconSpec()<a class="hash-link" href="#getbeaconspec" title="Direct link to heading">#</a></h3><p>Return beacon specification data.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getBeaconSpec()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    returns (</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        uint64 epochsPerFrame,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        uint64 slotsPerEpoch,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        uint64 secondsPerSlot,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        uint64 genesisTime</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    )</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getcurrentepochid"></a>getCurrentEpochId()<a class="hash-link" href="#getcurrentepochid" title="Direct link to heading">#</a></h3><p>Return the epoch calculated from current timestamp.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getCurrentEpochId() returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getcurrentframe"></a>getCurrentFrame()<a class="hash-link" href="#getcurrentframe" title="Direct link to heading">#</a></h3><p>Return currently reportable epoch (the first epoch of the current frame) as well as its start and
end times in seconds.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getCurrentFrame()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    returns (</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        uint256 frameEpochId,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        uint256 frameStartTime,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        uint256 frameEndTime</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    )</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getlastcompletedepochid"></a>getLastCompletedEpochId()<a class="hash-link" href="#getlastcompletedepochid" title="Direct link to heading">#</a></h3><p>Return last completed epoch.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getLastCompletedEpochId() returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getlastcompletedreportdelta"></a>getLastCompletedReportDelta()<a class="hash-link" href="#getlastcompletedreportdelta" title="Direct link to heading">#</a></h3><p>Report beacon balance and its change during the last frame.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getLastCompletedReportDelta()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    returns (</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        uint256 postTotalPooledEther,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        uint256 preTotalPooledEther,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        uint256 timeElapsed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    )</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="methods"></a>Methods<a class="hash-link" href="#methods" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setallowedbeaconbalanceannualrelativeincrease"></a>setAllowedBeaconBalanceAnnualRelativeIncrease()<a class="hash-link" href="#setallowedbeaconbalanceannualrelativeincrease" title="Direct link to heading">#</a></h3><p>Set the upper bound of the reported balance possible increase in APR to <code>_value</code>. See above about
<a href="#sanity-checks-the-oracles-reports-by-configurable-values">sanity checks</a>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function setAllowedBeaconBalanceAnnualRelativeIncrease(uint256 _value) auth(SET_REPORT_BOUNDARIES)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setallowedbeaconbalancerelativedecrease"></a>setAllowedBeaconBalanceRelativeDecrease()<a class="hash-link" href="#setallowedbeaconbalancerelativedecrease" title="Direct link to heading">#</a></h3><p>Set the lower bound of the reported balance possible decrease to <code>_value</code>. See above about <a href="#sanity-checks-the-oracles-reports-by-configurable-values">sanity
checks</a>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function setAllowedBeaconBalanceRelativeDecrease(uint256 _value) auth(SET_REPORT_BOUNDARIES)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setbeaconreportreceiver"></a>setBeaconReportReceiver()<a class="hash-link" href="#setbeaconreportreceiver" title="Direct link to heading">#</a></h3><p>Set the receiver contract address to <code>_addr</code> to be called when the report is pushed.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Specify 0 to disable this functionality.</p></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function setBeaconReportReceiver(address _addr) auth(SET_BEACON_REPORT_RECEIVER)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setbeaconspec"></a>setBeaconSpec()<a class="hash-link" href="#setbeaconspec" title="Direct link to heading">#</a></h3><p>Update beacon specification data.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function setBeaconSpec(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint64 _epochsPerFrame,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint64 _slotsPerEpoch,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint64 _secondsPerSlot,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint64 _genesisTime</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    )</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    auth(SET_BEACON_SPEC)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="initialize_v2"></a>initialize_v2()<a class="hash-link" href="#initialize_v2" title="Direct link to heading">#</a></h3><p>Initialize the contract v2 data, with sanity check bounds
(<code>_allowedBeaconBalanceAnnualRelativeIncrease</code>, <code>_allowedBeaconBalanceRelativeDecrease</code>).</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Public function <code>initialize</code> was removed from v2 because it is not needed once the contract is
initialized for the first time, that happened in v1. Instead we added <code>initialize_v2</code> function that
initializes newly added variables, updates the contract version to 1.</p></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function initialize_v2(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 _allowedBeaconBalanceAnnualRelativeIncrease,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 _allowedBeaconBalanceRelativeDecrease</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="addoraclemember"></a>addOracleMember()<a class="hash-link" href="#addoraclemember" title="Direct link to heading">#</a></h3><p>Add <code>_member</code> to the oracle member committee list.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function addOracleMember(address _member) auth(MANAGE_MEMBERS)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="removeoraclemember"></a>removeOracleMember()<a class="hash-link" href="#removeoraclemember" title="Direct link to heading">#</a></h3><p>Remove &#x27;_member` from the oracle member committee list.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function removeOracleMember(address _member) auth(MANAGE_MEMBERS)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setquorum"></a>setQuorum()<a class="hash-link" href="#setquorum" title="Direct link to heading">#</a></h3><p>Set the number of exactly the same reports needed to finalize the epoch to <code>_quorum</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function setQuorum(uint256 _quorum) auth(MANAGE_QUORUM)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="reportbeacon"></a>reportBeacon()<a class="hash-link" href="#reportbeacon" title="Direct link to heading">#</a></h3><p>Accept oracle committee member reports from the ETH 2.0 side. Parameters:</p><ul><li><code>_epochId</code> - beacon chain epoch</li><li><code>_beaconBalance</code> - balance in gwei on the ETH 2.0 side (9-digit denomination)</li><li><code>_beaconValidators</code> - number of validators visible in this epoch</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sol"><div tabindex="0" class="prism-code language-sol codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function reportBeacon(uint256 _epochId, uint64 _beaconBalance, uint32 _beaconValidators)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/lidofinance/docs/blob/main/docs/contracts/lido-oracle.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/contracts/lido"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Lido</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/contracts/stable-swap-state-oracle"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">StableSwapStateOracle Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#store-the-collected-reports-as-an-array" class="table-of-contents__link">Store the collected reports as an array</a></li><li><a href="#add-calculation-of-staker-rewards-apr" class="table-of-contents__link">Add calculation of staker rewards APR</a></li><li><a href="#sanity-checks-the-oracles-reports-by-configurable-values" class="table-of-contents__link">Sanity checks the oracles reports by configurable values</a></li><li><a href="#receiver-function-to-be-invoked-on-report-pushes" class="table-of-contents__link">Receiver function to be invoked on report pushes</a></li><li><a href="#view-methods" class="table-of-contents__link">View Methods</a><ul><li><a href="#getlido" class="table-of-contents__link">getLido()</a></li><li><a href="#getquorum" class="table-of-contents__link">getQuorum()</a></li><li><a href="#getallowedbeaconbalanceannualrelativeincrease" class="table-of-contents__link">getAllowedBeaconBalanceAnnualRelativeIncrease()</a></li><li><a href="#getallowedbeaconbalancerelativedecrease" class="table-of-contents__link">getAllowedBeaconBalanceRelativeDecrease()</a></li><li><a href="#getbeaconreportreceiver" class="table-of-contents__link">getBeaconReportReceiver()</a></li><li><a href="#getcurrentoraclesreportstatus" class="table-of-contents__link">getCurrentOraclesReportStatus()</a></li><li><a href="#getcurrentreportvariantssize" class="table-of-contents__link">getCurrentReportVariantsSize()</a></li><li><a href="#getcurrentreportvariant" class="table-of-contents__link">getCurrentReportVariant()</a></li><li><a href="#getexpectedepochid" class="table-of-contents__link">getExpectedEpochId()</a></li><li><a href="#getoraclemembers" class="table-of-contents__link">getOracleMembers()</a></li><li><a href="#getversion" class="table-of-contents__link">getVersion()</a></li><li><a href="#getbeaconspec" class="table-of-contents__link">getBeaconSpec()</a></li><li><a href="#getcurrentepochid" class="table-of-contents__link">getCurrentEpochId()</a></li><li><a href="#getcurrentframe" class="table-of-contents__link">getCurrentFrame()</a></li><li><a href="#getlastcompletedepochid" class="table-of-contents__link">getLastCompletedEpochId()</a></li><li><a href="#getlastcompletedreportdelta" class="table-of-contents__link">getLastCompletedReportDelta()</a></li></ul></li><li><a href="#methods" class="table-of-contents__link">Methods</a><ul><li><a href="#setallowedbeaconbalanceannualrelativeincrease" class="table-of-contents__link">setAllowedBeaconBalanceAnnualRelativeIncrease()</a></li><li><a href="#setallowedbeaconbalancerelativedecrease" class="table-of-contents__link">setAllowedBeaconBalanceRelativeDecrease()</a></li><li><a href="#setbeaconreportreceiver" class="table-of-contents__link">setBeaconReportReceiver()</a></li><li><a href="#setbeaconspec" class="table-of-contents__link">setBeaconSpec()</a></li><li><a href="#initialize_v2" class="table-of-contents__link">initialize_v2()</a></li><li><a href="#addoraclemember" class="table-of-contents__link">addOracleMember()</a></li><li><a href="#removeoraclemember" class="table-of-contents__link">removeOracleMember()</a></li><li><a href="#setquorum" class="table-of-contents__link">setQuorum()</a></li><li><a href="#reportbeacon" class="table-of-contents__link">reportBeacon()</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/styles.60d6036a.js"></script>
<script src="/assets/js/runtime~main.84ce43f3.js"></script>
<script src="/assets/js/main.ce772e0e.js"></script>
<script src="/assets/js/1.d79354af.js"></script>
<script src="/assets/js/2.838c5d4f.js"></script>
<script src="/assets/js/1a4e3797.af72474a.js"></script>
<script src="/assets/js/1be78505.8f57c878.js"></script>
<script src="/assets/js/30.f3838937.js"></script>
<script src="/assets/js/29.5d6db8c9.js"></script>
<script src="/assets/js/935f2afb.fa73b8d4.js"></script>
<script src="/assets/js/17896441.2c279ba3.js"></script>
<script src="/assets/js/aa274e96.9ab7f33b.js"></script>
</body>
</html>