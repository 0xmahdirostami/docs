(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{89:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return s})),r.d(t,"metadata",(function(){return i})),r.d(t,"toc",(function(){return c})),r.d(t,"default",(function(){return l}));var a=r(3),n=r(7),o=(r(0),r(95)),s={},i={unversionedId:"token-guides/steth-superuser-functions",id:"token-guides/steth-superuser-functions",isDocsHomePage:!1,title:"StETH superuser functions",description:"Superuser privileges, accounts, and roles",source:"@site/docs/token-guides/steth-superuser-functions.md",sourceDirName:"token-guides",slug:"/token-guides/steth-superuser-functions",permalink:"/token-guides/steth-superuser-functions",editUrl:"https://github.com/lidofinance/docs/blob/main/docs/token-guides/steth-superuser-functions.md",version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Subgraph",permalink:"/integrations/subgraph"},next:{title:"Lido",permalink:"/contracts/lido"}},c=[{value:"Superuser privileges decentralization",id:"superuser-privileges-decentralization",children:[]},{value:"Superuser actions thresholds",id:"superuser-actions-thresholds",children:[]},{value:"Superuser keys management",id:"superuser-keys-management",children:[]},{value:"Superuser keys generation procedure",id:"superuser-keys-generation-procedure",children:[]}],p={toc:c};function l(e){var t=e.components,r=Object(n.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},p,r,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Superuser privileges, accounts, and roles"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"StETH token is the upgradable contract behind ",Object(o.b)("inlineCode",{parentName:"li"},"AppProxyUpgradeable")," proxy at ",Object(o.b)("a",{parentName:"li",href:"https://etherscan.io/address/0xae7ab96520de3a18e5e111b5eaab095312d7fe84"},"https://etherscan.io/address/0xae7ab96520de3a18e5e111b5eaab095312d7fe84"),". Lido DAO can change the implementation with the successful DAO vote."),Object(o.b)("li",{parentName:"ol"},"StETH can be stopped by the DAO vote. No operations changing stETH balances can be performed on the stopped contract:",Object(o.b)("ol",{parentName:"li"},Object(o.b)("li",{parentName:"ol"},Object(o.b)("inlineCode",{parentName:"li"},"approve")," and ",Object(o.b)("inlineCode",{parentName:"li"},"transfer")," calls revert;"),Object(o.b)("li",{parentName:"ol"},"No mints or burns can be performed. Note that StETH contract can mint stETH only in two cases: user deposits (tokens are minted to the depositor's address) or fee distribution (where tokens are minted in accordance to fee calculations to the addresses set in the contract \u2014 namely the DAO treasury, the insurance fund and the Node Operator's reward addresses);"),Object(o.b)("li",{parentName:"ol"},"Users can't submit their ETH to the Lido;"),Object(o.b)("li",{parentName:"ol"},"Oracle can't push updates on the ETH2 staking state;"),Object(o.b)("li",{parentName:"ol"},"No ETH buffered in Lido can be sent to the ETH2 deposit contract;"),Object(o.b)("li",{parentName:"ol"},"Staking withdrawals (once available) can't be performed.")))),Object(o.b)("p",null,"StETH contract specifies PAUSE_ROLE (address can pause the protocol) and BURN_ROLE (address can burn stETH tokens on any address). Both roles are assigned only to the DAO Voting contract ",Object(o.b)("a",{parentName:"p",href:"https://etherscan.io/address/0x2e59a20f205bb85a89c53f1936454680651e618e"},"https://etherscan.io/address/0x2e59a20f205bb85a89c53f1936454680651e618e"),". Note that there are other roles for DAO management, but they don't affect the token actions. These roles are MANAGE_FEE (set staking fee amount), MANAGE_WITHDRAWAL_KEY (set withdrawal credentials of the protocol), SET_ORACLE (set oracle contract address), SET_TREASURY (set DAO treasury address to send fee to), SET_INSURANCE_FUND (set DAO insurance address to send fee to). The roles and addresses can be checked in the Aragon UI ",Object(o.b)("a",{parentName:"p",href:"https://mainnet.lido.fi/#/lido-dao/permissions/app/0xae7ab96520de3a18e5e111b5eaab095312d7fe84"},"https://mainnet.lido.fi/#/lido-dao/permissions/app/0xae7ab96520de3a18e5e111b5eaab095312d7fe84"),"\n3) StETH is a rebasable token. It receives reports from the Oracle contract (",Object(o.b)("inlineCode",{parentName:"p"},"pushBeacon")," method) with the state of the protocol's ETH2 validators balances, and updates all the balances of stETH holders distributing the protocol's total staking rewards and penalties. The protocol employs distributed Oracle reporting: there are five Oracle daemons running by the Lido Node operators, and the Oracle smart contract formats beacon report on the consensus of three of five daemon reports. On top of the consensus mechanics, there are sanity checks for reports with sudden drops in total ETH2 balance or rewards with higher-than-possible APY. Current Oracle contract is ",Object(o.b)("a",{parentName:"p",href:"https://etherscan.io/address/0x442af784A788A5bd6F42A01Ebe9F287a871243fb"},"https://etherscan.io/address/0x442af784A788A5bd6F42A01Ebe9F287a871243fb"),". Note that: 1) DAO can set another address for the Oracle contact via vote; 2) Oracle implementation can change via vote."),Object(o.b)("h2",{id:"superuser-privileges-decentralization"},"Superuser privileges decentralization"),Object(o.b)("p",null,"The superuser privileges are managed by the Lido DAO's governance system. To enact any change the DAO has to have a successful vote."),Object(o.b)("p",null,"Oracles are: 1) limited in impact 2) distributed - there are five of them, all top-tier professional node operators."),Object(o.b)("h2",{id:"superuser-actions-thresholds"},"Superuser actions thresholds"),Object(o.b)("p",null,'The "superuser actions" with the StETH token are performed via DAO votes. The votes are managed by the Aragon voting. Voting power is proportional to the addresses\' LDO token balance (',Object(o.b)("a",{parentName:"p",href:"https://etherscan.io/token/0x5a98fcbea516cf06857215779fd812ca3bef1b32"},"https://etherscan.io/token/0x5a98fcbea516cf06857215779fd812ca3bef1b32"),'). For the voting to pass successfully, it should 1) get at least 5% of the total LDOs to be cast "for" the vote; 2) get at least 50% of votes cast "for" the vote. The voting duration is 24 hours.'),Object(o.b)("p",null,"There are five Oracle daemons running by the Lido Node operators, with 3 of 5 needed to agree on the data they provide. On top of the consensus mechanics, there are sanity checks for reports with sudden drops in total ETH2 balance or rewards with higher-than-possible APY."),Object(o.b)("h2",{id:"superuser-keys-management"},"Superuser keys management"),Object(o.b)("p",null,"Token management roles belong to smart contracts, and any changes in roles must pass through the successful DAO vote."),Object(o.b)("p",null,"Oracle operators are: Stakefish, Certus One, Chorus One, Staking Facilities, P2P Validator, Blockscape, DSRV, Everstake, SkillZ."),Object(o.b)("h2",{id:"superuser-keys-generation-procedure"},"Superuser keys generation procedure"),Object(o.b)("p",null,"There was no special keygen ceremony, as the permissions are managed by smart contracts. The votes can be cast by the EOAs and smart contracts with the voting power proportional to the addresses' LDO balance."))}l.isMDXComponent=!0},95:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return b}));var a=r(0),n=r.n(a);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=n.a.createContext({}),l=function(e){var t=n.a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=l(e.components);return n.a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},h=n.a.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),d=l(r),h=a,b=d["".concat(s,".").concat(h)]||d[h]||u[h]||o;return r?n.a.createElement(b,i(i({ref:t},p),{},{components:r})):n.a.createElement(b,i({ref:t},p))}));function b(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,s=new Array(o);s[0]=h;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var p=2;p<o;p++)s[p]=r[p];return n.a.createElement.apply(null,s)}return n.a.createElement.apply(null,r)}h.displayName="MDXCreateElement"}}]);